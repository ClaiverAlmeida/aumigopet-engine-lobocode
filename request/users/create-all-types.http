@baseUrl = http://localhost:3000
@companyId = cmcy2a0bg0000ltjnu6o728nr
@postId = post_id_exemplo 

@token = {{ platformAdminLogin.response.body.access_token }}

### Login HR
# @name platformAdminLogin
POST {{baseUrl}}/auth/login
Content-Type: application/json

{
    #   "login": "System Admin Claiver", 
    #   "login": "admin.empresA",
    #   "login": "hr.empresa",
      "login": "supervisor.exmpresa",
    #   "login": "guard.empresa",
    #   "login": "postsupervisor.empresa",
    #   "login": "postresident.empresa",
    # "login": "hr.empresa@user.com",

    "password": "SystemAdmin123@Senha",
    # "password": "SystemAdmin@Senha"
}

### ========================================
### CREATE ALL USER TYPES - SYSTEM_ADMIN
### ========================================

### 1. Criar SYSTEM_ADMIN
POST {{baseUrl}}/users/system-admin
Content-Type: application/json
Authorization: Bearer {{token}}

{
    "name": "Novo Platform Admin",
    "login": "novo.platformxadmsixSn",
    "email": "novo.platfxorSxm@user.com",
    "password": "SystemAdmin123@Senha",
    "role": "SYSTEM_ADMIN"
}

### 2. Criar ADMIN
POST {{baseUrl}}/users/admin
Content-Type: application/json
Authorization: Bearer {{token}}

{
    "name": "Admin da Empresa",
    "login": "admin.empresA",
    "email": "admin.empresa@user.comx",
    "password": "SystemAdmin123@Senha",
    "role": "ADMIN"
    # ,"companyId": "{{companyId}}"
}

### 3 Criar HR
POST {{baseUrl}}/users/hr
Content-Type: application/json
Authorization: Bearer {{token}}

{
    "name": "HR da Empresa",
    "login": "hr.empresa",
    "email": "hr.empresaxx@user.com",
    "password": "SystemAdmin123@Senha",
    "role": "HR"
    # ,"companyId": "{{companyId}}"
}


### 4. Criar SUPERVISOR
POST {{baseUrl}}/users/supervisor
Content-Type: application/json
Authorization: Bearer {{token}}

{
    "name": "Supervisor da Empresa",
    "login": "supervisor.empresa",
    "email": "supervisor.empresa@user.com",
    "password": "SystemAdmin123@Senha",
    "role": "SUPERVISOR"
    ,"companyId": "{{companyId}}"
}


### 5. Criar GUARD
POST {{baseUrl}}/users/guard
Content-Type: application/json
Authorization: Bearer {{token}}

{
    "name": "Guard da Empresa",
    "login": "guard.empresa",
    "email": "guard.empresa@user.com",
    "password": "SystemAdmin123@Senha",
    "role": "GUARD"
    ,"companyId": "{{companyId}}"
   
}

### 6. Criar POST_SUPERVISOR
POST {{baseUrl}}/users/post-supervisor
Content-Type: application/json
Authorization: Bearer {{token}}

{
    "name": "Post Supervisor",
    "login": "postsupervisor.empresa",
    "email": "postsupervisor@user.com",
    "password": "SystemAdmin123@Senha",
    "role": "POST_SUPERVISOR",
    "postId": "{{postId}}"
    ,"companyId": "{{companyId}}"
}

### 7. Criar POST_RESIDENT
POST {{baseUrl}}/users/post-resident
Content-Type: application/json
Authorization: Bearer {{token}}

{
    "name": "Post Resident",
    "email": "postresident@user.com",
    "password": "SystemAdmin123@Senha",
    "role": "POST_RESIDENT",
    "apartment": "101", 
    "postId": "{{postId}}"
    ,"companyId": "{{companyId}}"
}

### ========================================
### LIST ALL CREATED USERS
### ========================================

### Listar todos os usuários criados
GET {{baseUrl}}/users
Authorization: Bearer {{token}}

### Listar usuários por empresa
GET {{baseUrl}}/users?companyId={{companyId}}
Authorization: Bearer {{token}}



### ========================================
### UPDATE TESTS
### ========================================

### Atualizar usuário da própria empresa
PATCH {{baseUrl}}/users/cmcy42531000jltzql8irjx92
Authorization: Bearer {{token}}
Content-Type: application/json

{
    "name": " guard Usuário Atualizado",
    "status": "ACTIVE"
}



### ========================================
### SOFT DELETE TESTS
### ========================================

### Deletar um usuário (soft delete)
DELETE {{baseUrl}}/users/cmcwecnmp000blt5r7djlwhm1
Authorization: Bearer {{token}}

### Restaurar usuário deletado
POST {{baseUrl}}/users/cmcwecnmp000blt5r7djlwhm1/restore
Authorization: Bearer {{token}}

### Listar usuários incluindo deletados
GET {{baseUrl}}/users?includeDeleted=true
Authorization: Bearer {{token}} 