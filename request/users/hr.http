@baseUrl = http://localhost:3000
@token = {{ hrLogin.response.body.access_token }}

### Login HR
# @name hrLogin
POST {{baseUrl}}/auth/login
Content-Type: application/json

{
    "email": "hr@user.com",
    "password": "SystemAdmin123@Senha"
}

### ========================================
### USERS - HR (Próprio Tenant)
### ========================================

### Listar usuários da própria empresa
GET {{baseUrl}}/users 
Authorization: Bearer {{token}}

### Buscar usuário específico da própria empresa
GET {{baseUrl}}/users/cmco084n70001lt96th7lafk8
Authorization: Bearer {{token}}

### Atualizar usuário da própria empresa (campos permitidos)
PATCH {{baseUrl}}/users/cmco084n70001lt96th7lafk8
Authorization: Bearer {{token}}
Content-Type: application/json

{
    "name": "Usuário Atualizado",
    "active": true,
    "profilePicture": "nova-foto.jpg"
}

### ========================================
### POSTS - HR (Próprio Tenant)
### ========================================

### Listar posts da própria empresa
GET {{baseUrl}}/posts
Authorization: Bearer {{token}}

### Criar post na própria empresa
POST {{baseUrl}}/posts
Content-Type: application/json
Authorization: Bearer {{token}}

{
    "title": "Post do HR",
    "content": "Conteúdo do post criado pelo HR"
}

### Atualizar post da própria empresa
PATCH {{baseUrl}}/posts/post_id_aqui
Authorization: Bearer {{token}}
Content-Type: application/json

{
    "title": "Post Atualizado",
    "content": "Conteúdo atualizado"
}

### ========================================
### TESTES DE SEGURANÇA - HR
### ========================================

### ❌ TENTATIVA: Deletar usuário (deve falhar - HR não pode deletar)
DELETE {{baseUrl}}/users/cmco084n70001lt96th7lafk8
Authorization: Bearer {{token}}

### ❌ TENTATIVA: Criar usuário (deve falhar - HR não pode criar usuários)
POST {{baseUrl}}/users/hr
Content-Type: application/json
Authorization: Bearer {{token}}

{
    "name": "Novo HR",
    "email": "novo.hr@user.com",
    "password": "SystemAdmin123@Senha",
    "companyId": "cmco084kk0000lt96pxlqot9s"
}

### ❌ TENTATIVA: Atualizar campos não permitidos (deve falhar)
PATCH {{baseUrl}}/users/cmco084n70001lt96th7lafk8
Authorization: Bearer {{token}}
Content-Type: application/json

{
    "role": "ADMIN",  // HR não pode mudar role
    "companyId": "outra_empresa"  // HR não pode mudar empresa
}

### ❌ TENTATIVA: Listar usuários de outra empresa (deve falhar)
GET {{baseUrl}}/users?companyId=outra_empresa_id
Authorization: Bearer {{token}}

### ❌ TENTATIVA: Deletar post (deve falhar - HR não pode deletar)
DELETE {{baseUrl}}/posts/post_id_aqui
Authorization: Bearer {{token}} 