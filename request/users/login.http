
### ========================
### üîê LOGIN E TOKENS
### ========================


###
# @name adminLogin
POST http://localhost:3000/auth/login
Content-Type: application/json

{
  "email": "admin@user.com",
  "password": "admin"
}

###
# @name readerLogin
POST http://localhost:3000/auth/login
Content-Type: application/json

{
  "email": "reader@user.com",
  "password": "reader"
}

###
# @name writerLogin
POST http://localhost:3000/auth/login
Content-Type: application/json

{
  "email": "writer@user.com",
  "password": "writer"
}

### Tokens extra√≠dos das respostas anteriores
@tokenAdmin = {{adminLogin.response.body.access_token}}
@tokenReader = {{readerLogin.response.body.access_token}}
@tokenWriter = {{writerLogin.response.body.access_token}}

### ========================
### üë§ CRIA√á√ÉO DE USU√ÅRIOS
### ========================

###
# üë§ Admin (sem token)
POST http://localhost:3000/users
Content-Type: application/json

{
  "name": "Admin",
  "email": "admin@user.com",
  "password": "admin",
  "role": "ADMIN"
}

###
# üë§ Reader
POST http://localhost:3000/users
Content-Type: application/json
Authorization: Bearer {{tokenAdmin}}

{
  "name": "Reader",
  "email": "reader@user.com",
  "password": "reader",
  "role": "READER"
}

###
# üë§ Writer com permiss√µes
POST http://localhost:3000/users
Content-Type: application/json
Authorization: Bearer {{tokenAdmin}}

{
  "name": "Writer",
  "email": "writer@user.com",
  "password": "writer",
  "role": "WRITER",
  "permissions": [
    {
      "action": "read",
      "resource": "User"
    },
    {
      "action": "update",
      "resource": "Post",
      "condition": {
        "id": "1"
      }
    }
  ]
}

### ========================
### üìù POSTS
### ========================

###
# Criar Post (Admin)
POST http://localhost:3000/posts
Content-Type: application/json
Authorization: Bearer {{tokenAdmin}}

{
  "title": "My first post",
  "content": "This is the content of my first post.",
  "published": false
}

###
# Listar todos os posts (Reader)
GET http://localhost:3000/posts
Authorization: Bearer {{tokenAdmin}}

###
# Obter post espec√≠fico (Reader)
GET http://localhost:3000/posts/cm8z70heh0001s9r7ick5369u
Authorization: Bearer {{tokenReader}}

### ========================
### üìÑ USERS
### ========================

###
# Listar todos os usu√°rios (Admin)
GET http://localhost:3000/users
Authorization: Bearer {{tokenAdmin}}

###
# Obter usu√°rio espec√≠fico
GET http://localhost:3000/users/cm8z3gmns0002s9sywsjk9upq

### ========================
### üè† ROOT (TESTE DE AUTENTICA√á√ÉO)
### ========================

###
# Testar acesso √† rota raiz (Reader)
GET http://localhost:3000/
Authorization: Bearer {{tokenReader}}
