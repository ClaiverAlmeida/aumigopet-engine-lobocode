@baseUrl = http://localhost:3000
@token = {{ postResidentLogin.response.body.access_token }}

### Login POST_RESIDENT
# @name postResidentLogin
POST {{baseUrl}}/auth/login
Content-Type: application/json

{
    "email": "postresident@user.com",
    "password": "SystemAdmin123@Senha"
}

### ========================================
### USERS - POST_RESIDENT (Apenas próprio perfil)
### ========================================

### Ver próprio perfil
GET {{baseUrl}}/users/me
Authorization: Bearer {{token}}

### Atualizar próprio perfil (campos permitidos)
PATCH {{baseUrl}}/users/me
Authorization: Bearer {{token}}
Content-Type: application/json

{
    "name": "Post Resident Atualizado",
    "profilePicture": "nova-foto-post-resident.jpg"
}

### ========================================
### CRUD - POST_RESIDENT (Ações restritas)
### ========================================

### TENTATIVA: Listar todos os usuários (deve falhar)
GET {{baseUrl}}/users
Authorization: Bearer {{token}}

### TENTATIVA: Criar usuário (deve falhar)
POST {{baseUrl}}/users/guard
Content-Type: application/json
Authorization: Bearer {{token}}

{
    "name": "Novo Guard",
    "email": "novo.guard@user.com",
    "password": "SystemAdmin123@Senha",
    "companyId": "empresa_id"
}

### TENTATIVA: Atualizar outro usuário (deve falhar)
PATCH {{baseUrl}}/users/usuario_id
Authorization: Bearer {{token}}
Content-Type: application/json

{
    "name": "Tentativa de Atualizar Outro"
}

### TENTATIVA: Deletar usuário (deve falhar)
DELETE {{baseUrl}}/users/usuario_id
Authorization: Bearer {{token}}

### TENTATIVA: Restaurar usuário (deve falhar)
POST {{baseUrl}}/users/usuario_id/restore
Authorization: Bearer {{token}} 